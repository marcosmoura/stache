{
  "$id": "https://raw.githubusercontent.com/marcosmoura/stache/main/stache.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "StacheConfig",
  "description": "Root configuration structure for Stache.\n\nThis structure is designed to be extended with additional sections\nas new features are added to the application.",
  "type": "object",
  "properties": {
    "bar": {
      "description": "Bar configuration for status bar UI components.\n\nContains settings for weather.",
      "$ref": "#/$defs/BarConfig",
      "default": {
        "height": 28,
        "padding": 12,
        "weather": {
          "apiKeys": "",
          "defaultLocation": ""
        }
      }
    },
    "keybindings": {
      "description": "Global keyboard keybindings configuration.\n\nThe key is the shortcut string (e.g., \"Command+Control+R\").\nThe value is either a single command string or an array of commands.",
      "type": "object",
      "additionalProperties": {
        "$ref": "#/$defs/ShortcutCommands"
      },
      "default": {}
    },
    "menuAnywhere": {
      "description": "`MenuAnywhere` configuration.\n\nAllows summoning the current application's menu bar at the cursor position.",
      "$ref": "#/$defs/MenuAnywhereConfig",
      "default": {
        "enabled": false,
        "modifiers": ["control", "command"],
        "mouseButton": "rightClick"
      }
    },
    "notunes": {
      "description": "noTunes configuration.\n\nPrevents Apple Music/iTunes from auto-launching and optionally\nlaunches a preferred music player instead.",
      "$ref": "#/$defs/NoTunesConfig",
      "default": {
        "enabled": true,
        "targetApp": "tidal"
      }
    },
    "proxyAudio": {
      "description": "Proxy audio configuration for automatic device routing.\n\nEnables intelligent audio device switching based on device availability\nand priority. `AirPlay` devices are always given highest priority.",
      "$ref": "#/$defs/ProxyAudioConfig",
      "default": {
        "enabled": false,
        "input": {
          "name": "Stache Virtual Input",
          "priority": []
        },
        "output": {
          "bufferSize": 256,
          "name": "Stache Virtual Output",
          "priority": []
        }
      }
    },
    "tiling": {
      "description": "Tiling window manager configuration.\n\nProvides virtual workspace management with multiple layout modes.\nDisabled by default.",
      "$ref": "#/$defs/TilingConfig",
      "default": {
        "animations": {
          "duration": 200,
          "easing": "ease-out",
          "enabled": false
        },
        "borders": {
          "animation": {
            "durationMs": 200,
            "easing": "ease-out"
          },
          "enabled": false,
          "floating": {
            "color": "#94e2d5",
            "width": 4
          },
          "focused": {
            "color": "#b4befe",
            "width": 4
          },
          "ignore": [],
          "monocle": {
            "color": "#cba6f7",
            "width": 4
          },
          "unfocused": {
            "color": "#6c7086",
            "width": 4
          }
        },
        "enabled": false,
        "floating": {
          "defaultPosition": "center",
          "presets": []
        },
        "gaps": {
          "inner": 0,
          "outer": 0
        },
        "ignore": [],
        "master": {
          "position": "auto",
          "ratio": 60
        },
        "workspaces": []
      }
    },
    "wallpapers": {
      "description": "Desktop wallpaper configuration.\n\nControls dynamic wallpaper rotation, effects, and display.",
      "$ref": "#/$defs/WallpaperConfig",
      "default": {
        "blur": 0,
        "interval": 0,
        "list": [],
        "mode": "random",
        "path": "",
        "radius": 0
      }
    }
  },
  "$defs": {
    "AnimationConfig": {
      "description": "Animation configuration for window transitions.",
      "type": "object",
      "properties": {
        "duration": {
          "description": "Animation duration in milliseconds for large movements (500+ pixels).\nFor smaller movements, duration is automatically scaled down.\nDefault: 200",
          "type": "integer",
          "format": "uint32",
          "default": 200,
          "minimum": 0
        },
        "easing": {
          "description": "Easing function for animations.\nDefault: \"ease-out\"",
          "$ref": "#/$defs/EasingType",
          "default": "ease-out"
        },
        "enabled": {
          "description": "Whether animations are enabled.\nDefault: false",
          "type": "boolean",
          "default": false
        }
      }
    },
    "AudioDeviceDependency": {
      "description": "Dependency condition for audio device selection.\n\nSpecifies a device that must be present (connected) for the parent device\nto be considered in the priority list. The dependent device itself will\nnever be switched to; it only serves as a condition.\n\nExample: \"External Speakers\" might depend on \"`MiniFuse` 2\" being connected,\nsince the speakers are physically connected through the audio interface.",
      "type": "object",
      "properties": {
        "name": {
          "description": "The name (or pattern) of the device that must be present.",
          "type": "string",
          "default": ""
        },
        "strategy": {
          "description": "The strategy for matching the dependency device name.\n- `exact`: Exact match (case-insensitive). Default if not specified.\n- `contains`: Device name contains the string (case-insensitive).\n- `startsWith`: Device name starts with the string (case-insensitive).\n- `regex`: Device name matches the regex pattern.",
          "$ref": "#/$defs/MatchStrategy",
          "default": "exact"
        }
      }
    },
    "AudioDevicePriority": {
      "description": "Priority entry for audio device selection.\n\nDefines a single device in the priority list with its name and matching strategy.",
      "type": "object",
      "properties": {
        "dependsOn": {
          "description": "Optional dependency condition.\nIf specified, this device will only be considered if the dependent device\nis present (connected). The dependent device will never be switched to;\nit only serves as a condition for enabling this device.\n\nExample: External speakers connected via an audio interface might\ndepend on the interface being present.",
          "anyOf": [
            {
              "$ref": "#/$defs/AudioDeviceDependency"
            },
            {
              "type": "null"
            }
          ]
        },
        "name": {
          "description": "The name (or pattern) of the audio device to match.",
          "type": "string",
          "default": ""
        },
        "strategy": {
          "description": "The strategy for matching the device name.\n- `exact`: Exact match (case-insensitive). Default if not specified.\n- `contains`: Device name contains the string (case-insensitive).\n- `startsWith`: Device name starts with the string (case-insensitive).\n- `regex`: Device name matches the regex pattern.",
          "$ref": "#/$defs/MatchStrategy",
          "default": "exact"
        }
      }
    },
    "BarConfig": {
      "description": "Bar configuration for the status bar UI components.\n\nContains settings for bar-specific features like weather and dimensions.\nThe bar dimensions are used by the tiling window manager to account for\nthe status bar when calculating window layouts on the main screen.",
      "type": "object",
      "properties": {
        "height": {
          "description": "Height of the status bar in pixels.\nDefault: 28",
          "type": "integer",
          "format": "uint16",
          "default": 28,
          "maximum": 65535,
          "minimum": 0
        },
        "padding": {
          "description": "Padding around the status bar in pixels.\nThis is added to the height when calculating the top gap for tiling.\nDefault: 12",
          "type": "integer",
          "format": "uint16",
          "default": 12,
          "maximum": 65535,
          "minimum": 0
        },
        "weather": {
          "description": "Weather status bar configuration.",
          "$ref": "#/$defs/WeatherConfig",
          "default": {
            "apiKeys": "",
            "defaultLocation": ""
          }
        }
      }
    },
    "BorderAnimationConfig": {
      "description": "Animation configuration for border transitions.",
      "type": "object",
      "properties": {
        "durationMs": {
          "description": "Animation duration in milliseconds.\nDefault: 200",
          "type": "integer",
          "format": "uint32",
          "default": 200,
          "minimum": 0
        },
        "easing": {
          "description": "Easing function for color transitions.\nDefault: \"ease-out\"",
          "$ref": "#/$defs/EasingType",
          "default": "ease-out"
        }
      }
    },
    "BorderStateConfig": {
      "description": "Border state configuration - either disabled or with specific settings.\n\nCan be:\n- `false` to disable borders for this state\n- An object with `width` and either `color` (solid), `gradient`, or `glow`",
      "anyOf": [
        {
          "description": "Disabled - don't draw border for this state.\nUse `false` in config to disable.",
          "type": "boolean"
        },
        {
          "description": "Enabled with solid color.",
          "type": "object",
          "properties": {
            "color": {
              "description": "Solid color (hex string).",
              "type": "string"
            },
            "width": {
              "description": "Border width in pixels.",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            }
          },
          "required": ["width", "color"]
        },
        {
          "description": "Enabled with gradient color.",
          "type": "object",
          "properties": {
            "gradient": {
              "description": "Gradient configuration.",
              "$ref": "#/$defs/GradientConfig"
            },
            "width": {
              "description": "Border width in pixels.",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            }
          },
          "required": ["width", "gradient"]
        },
        {
          "description": "Enabled with glow effect.",
          "type": "object",
          "properties": {
            "glow": {
              "description": "Glow color (hex string).",
              "type": "string"
            },
            "width": {
              "description": "Border width in pixels.",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            }
          },
          "required": ["width", "glow"]
        }
      ]
    },
    "BordersConfig": {
      "description": "Window border configuration.\n\nBorders are rendered as transparent overlay windows that frame managed windows.\nThey provide visual feedback for focus state, layout mode, and floating status.\n\nEach border state (focused, unfocused, monocle, floating) can be:\n- `false` to disable borders for that state\n- An object with `width` and either `color` (solid) or `gradient`\n\n# Example\n\n```jsonc\n{\n  \"borders\": {\n    \"enabled\": true,\n    \"focused\": { \"width\": 4, \"color\": \"#89b4fa\" },\n    \"unfocused\": false,\n    \"monocle\": { \"width\": 4, \"color\": \"#cba6f7\" },\n    \"floating\": {\n      \"width\": 4,\n      \"gradient\": { \"from\": \"#89b4fa\", \"to\": \"#a6e3a1\", \"angle\": 180 }\n    }\n  }\n}\n```",
      "type": "object",
      "properties": {
        "animation": {
          "description": "Animation settings for border color transitions.\nNote: Animation is handled by `JankyBorders` and may not be configurable.",
          "$ref": "#/$defs/BorderAnimationConfig",
          "default": {
            "durationMs": 200,
            "easing": "ease-out"
          }
        },
        "enabled": {
          "description": "Whether window borders are enabled globally.\nDefault: false",
          "type": "boolean",
          "default": false
        },
        "floating": {
          "description": "Border configuration for floating windows.",
          "$ref": "#/$defs/BorderStateConfig",
          "default": {
            "color": "#94e2d5",
            "width": 4
          }
        },
        "focused": {
          "description": "Border configuration for focused windows.",
          "$ref": "#/$defs/BorderStateConfig",
          "default": {
            "color": "#b4befe",
            "width": 4
          }
        },
        "hidpi": {
          "description": "Enable HiDPI/Retina support for borders.\nDefault: true",
          "type": ["boolean", "null"]
        },
        "ignore": {
          "description": "Rules for windows that should not have borders.\nThese rules are checked in addition to the global tiling ignore rules.",
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/WindowRule"
          }
        },
        "monocle": {
          "description": "Border configuration for windows in monocle layout.",
          "$ref": "#/$defs/BorderStateConfig",
          "default": {
            "color": "#cba6f7",
            "width": 4
          }
        },
        "style": {
          "description": "Border style: \"round\" or \"square\".\nDefault: \"round\"",
          "type": ["string", "null"]
        },
        "unfocused": {
          "description": "Border configuration for unfocused windows.\nSet to `false` to hide borders on unfocused windows.",
          "$ref": "#/$defs/BorderStateConfig",
          "default": {
            "color": "#6c7086",
            "width": 4
          }
        }
      }
    },
    "DimensionValue": {
      "description": "A dimension value that can be either pixels or a percentage.",
      "anyOf": [
        {
          "description": "Value in pixels.",
          "type": "integer",
          "format": "uint32",
          "minimum": 0
        },
        {
          "description": "Value as a percentage string (e.g., \"50%\").",
          "type": "string"
        }
      ]
    },
    "EasingType": {
      "description": "Easing function for animations.",
      "oneOf": [
        {
          "description": "Linear interpolation.",
          "type": "string",
          "const": "linear"
        },
        {
          "description": "Ease in (slow start).",
          "type": "string",
          "const": "ease-in"
        },
        {
          "description": "Ease out (slow end).",
          "type": "string",
          "const": "ease-out"
        },
        {
          "description": "Ease in and out (slow start and end).",
          "type": "string",
          "const": "ease-in-out"
        },
        {
          "description": "Spring physics animation.",
          "type": "string",
          "const": "spring"
        }
      ]
    },
    "FloatingConfig": {
      "description": "Floating windows configuration.",
      "type": "object",
      "properties": {
        "defaultPosition": {
          "description": "Default position for new floating windows.\nDefault: \"center\"",
          "$ref": "#/$defs/FloatingPosition",
          "default": "center"
        },
        "presets": {
          "description": "Named presets for window positioning.",
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/FloatingPreset"
          }
        }
      }
    },
    "FloatingPosition": {
      "description": "Default position for floating windows.",
      "oneOf": [
        {
          "description": "Center the window on screen.",
          "type": "string",
          "const": "center"
        },
        {
          "description": "Use the window's last known position.",
          "type": "string",
          "const": "default"
        }
      ]
    },
    "FloatingPreset": {
      "description": "Floating window preset for quick positioning.",
      "type": "object",
      "properties": {
        "center": {
          "description": "If true, center the window on screen (x and y are ignored).",
          "type": "boolean",
          "default": false
        },
        "height": {
          "description": "Height: pixels (900) or percentage (\"100%\").",
          "$ref": "#/$defs/DimensionValue"
        },
        "name": {
          "description": "Unique name for this preset.",
          "type": "string"
        },
        "width": {
          "description": "Width: pixels (1440) or percentage (\"50%\").",
          "$ref": "#/$defs/DimensionValue"
        },
        "x": {
          "description": "X position (ignored if center is true).",
          "anyOf": [
            {
              "$ref": "#/$defs/DimensionValue"
            },
            {
              "type": "null"
            }
          ]
        },
        "y": {
          "description": "Y position (ignored if center is true).",
          "anyOf": [
            {
              "$ref": "#/$defs/DimensionValue"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": ["name", "width", "height"]
    },
    "GapValue": {
      "description": "A gap value that can be uniform, per-axis, or per-side.",
      "anyOf": [
        {
          "description": "Same value for all sides/axes.",
          "type": "integer",
          "format": "uint32",
          "minimum": 0
        },
        {
          "description": "Different values per axis (for inner gaps).",
          "type": "object",
          "properties": {
            "horizontal": {
              "description": "Horizontal gap (left/right between windows).",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            },
            "vertical": {
              "description": "Vertical gap (top/bottom between windows).",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            }
          },
          "required": ["horizontal", "vertical"]
        },
        {
          "description": "Different values per side (for outer gaps).",
          "type": "object",
          "properties": {
            "bottom": {
              "description": "Bottom gap.",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            },
            "left": {
              "description": "Left gap.",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            },
            "right": {
              "description": "Right gap.",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            },
            "top": {
              "description": "Top gap.",
              "type": "integer",
              "format": "uint32",
              "minimum": 0
            }
          },
          "required": ["top", "right", "bottom", "left"]
        }
      ]
    },
    "GapsConfig": {
      "description": "Gaps configuration for a single screen or global.",
      "type": "object",
      "properties": {
        "inner": {
          "description": "Inner gaps between windows.",
          "$ref": "#/$defs/GapValue",
          "default": 0
        },
        "outer": {
          "description": "Outer gaps from screen edges.",
          "$ref": "#/$defs/GapValue",
          "default": 0
        }
      }
    },
    "GapsConfigValue": {
      "description": "Gaps configuration that can be global or per-screen.",
      "anyOf": [
        {
          "description": "Same gaps for all screens.",
          "$ref": "#/$defs/GapsConfig"
        },
        {
          "description": "Per-screen gap configuration.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/ScreenGapsConfig"
          }
        }
      ]
    },
    "GradientConfig": {
      "description": "Gradient color configuration.",
      "type": "object",
      "properties": {
        "angle": {
          "description": "Angle in degrees (0 = left to right, 90 = bottom to top).\nDefault: 90",
          "type": "number",
          "format": "double",
          "default": 90.0
        },
        "from": {
          "description": "Starting color (hex string).",
          "type": "string"
        },
        "to": {
          "description": "Ending color (hex string).",
          "type": "string"
        }
      },
      "required": ["from", "to"]
    },
    "LayoutType": {
      "description": "Layout type for workspaces.",
      "oneOf": [
        {
          "description": "Binary Space Partitioning - windows arranged in a tree structure.",
          "type": "string",
          "const": "dwindle"
        },
        {
          "description": "Split layout - windows split based on screen orientation.",
          "type": "string",
          "const": "split"
        },
        {
          "description": "Vertical split layout - windows arranged vertically.",
          "type": "string",
          "const": "split-vertical"
        },
        {
          "description": "Horizontal split layout - windows arranged horizontally.",
          "type": "string",
          "const": "split-horizontal"
        },
        {
          "description": "Monocle layout - all windows maximized, stacked.",
          "type": "string",
          "const": "monocle"
        },
        {
          "description": "Master layout - one master window with stack.",
          "type": "string",
          "const": "master"
        },
        {
          "description": "Grid layout - windows arranged in a grid pattern.",
          "type": "string",
          "const": "grid"
        },
        {
          "description": "Floating layout - windows can be freely moved and resized.",
          "type": "string",
          "const": "floating"
        }
      ]
    },
    "MasterConfig": {
      "description": "Master layout configuration.",
      "type": "object",
      "properties": {
        "position": {
          "description": "Position of the master window.\nDefault: auto (left for landscape, top for portrait)",
          "$ref": "#/$defs/MasterPosition",
          "default": "auto"
        },
        "ratio": {
          "description": "Ratio of master window size (0-100).\nDefault: 60",
          "type": "integer",
          "format": "uint32",
          "default": 60,
          "minimum": 0
        }
      }
    },
    "MasterPosition": {
      "description": "Position of the master window in the master layout.",
      "oneOf": [
        {
          "description": "Master window on the left (landscape default).",
          "type": "string",
          "const": "left"
        },
        {
          "description": "Master window on the right.",
          "type": "string",
          "const": "right"
        },
        {
          "description": "Master window on top.",
          "type": "string",
          "const": "top"
        },
        {
          "description": "Master window on bottom.",
          "type": "string",
          "const": "bottom"
        },
        {
          "description": "Automatically choose based on screen orientation.\n- Landscape screens: left\n- Portrait screens: top",
          "type": "string",
          "const": "auto"
        }
      ]
    },
    "MatchStrategy": {
      "description": "Strategy for matching device names in the priority list.",
      "oneOf": [
        {
          "description": "Exact match (case-insensitive). This is the default strategy.",
          "type": "string",
          "const": "exact"
        },
        {
          "description": "Device name contains the specified string (case-insensitive).",
          "type": "string",
          "const": "contains"
        },
        {
          "description": "Device name starts with the specified string (case-insensitive).",
          "type": "string",
          "const": "startsWith"
        },
        {
          "description": "Device name matches the specified regex pattern.",
          "type": "string",
          "const": "regex"
        }
      ]
    },
    "MenuAnywhereConfig": {
      "description": "Configuration for the `MenuAnywhere` feature.\n\n`MenuAnywhere` allows you to summon the current application's menu bar\nat any location on screen using a configurable keyboard + mouse trigger.",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether `MenuAnywhere` is enabled.\nDefault: false",
          "type": "boolean",
          "default": false
        },
        "modifiers": {
          "description": "Keyboard modifiers that must be held when clicking.\nDefault: `[\"control\", \"command\"]`",
          "type": "array",
          "default": ["control", "command"],
          "items": {
            "$ref": "#/$defs/MenuAnywhereModifier"
          }
        },
        "mouseButton": {
          "description": "Mouse button that triggers the menu.\nDefault: `\"rightClick\"`",
          "$ref": "#/$defs/MenuAnywhereMouseButton",
          "default": "rightClick"
        }
      }
    },
    "MenuAnywhereModifier": {
      "description": "Keyboard modifier options for `MenuAnywhere` trigger.",
      "oneOf": [
        {
          "description": "Control key (^).",
          "type": "string",
          "const": "control"
        },
        {
          "description": "Option/Alt key (⌥).",
          "type": "string",
          "const": "option"
        },
        {
          "description": "Command key (⌘).",
          "type": "string",
          "const": "command"
        },
        {
          "description": "Shift key (⇧).",
          "type": "string",
          "const": "shift"
        }
      ]
    },
    "MenuAnywhereMouseButton": {
      "description": "Mouse button options for `MenuAnywhere` trigger.",
      "oneOf": [
        {
          "description": "Trigger on right mouse button click.",
          "type": "string",
          "const": "rightClick"
        },
        {
          "description": "Trigger on middle mouse button click.",
          "type": "string",
          "const": "middleClick"
        }
      ]
    },
    "NoTunesConfig": {
      "description": "Configuration for the noTunes feature.\n\nnoTunes prevents Apple Music or iTunes from launching automatically\n(e.g., when pressing media keys or connecting Bluetooth headphones)\nand optionally launches a preferred music player instead.",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether noTunes functionality is enabled.\nDefault: true",
          "type": "boolean",
          "default": true
        },
        "targetApp": {
          "description": "The music app to launch when Apple Music/iTunes is blocked.\nOptions: \"tidal\", \"spotify\", \"none\"\nDefault: \"tidal\"",
          "$ref": "#/$defs/TargetMusicApp",
          "default": "tidal"
        }
      }
    },
    "ProxyAudioConfig": {
      "description": "Proxy audio configuration for automatic device routing.\n\nThis configuration enables intelligent audio device switching based on\ndevice availability and priority. When enabled, the app automatically\nswitches to the highest-priority available device when devices connect\nor disconnect.\n\n`AirPlay` devices are always given the highest priority, even if not\nexplicitly listed in the priority configuration.",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether proxy audio functionality is enabled.\nWhen enabled, the app will automatically switch audio devices\nbased on the priority configuration.\nDefault: false",
          "type": "boolean",
          "default": false
        },
        "input": {
          "description": "Input device configuration.",
          "$ref": "#/$defs/ProxyAudioInputConfig",
          "default": {
            "name": "Stache Virtual Input",
            "priority": []
          }
        },
        "output": {
          "description": "Output device configuration.",
          "$ref": "#/$defs/ProxyAudioOutputConfig",
          "default": {
            "bufferSize": 256,
            "name": "Stache Virtual Output",
            "priority": []
          }
        }
      }
    },
    "ProxyAudioInputConfig": {
      "description": "Input device configuration for proxy audio.\n\nDefines the virtual input device name and priority list for device selection.",
      "type": "object",
      "properties": {
        "name": {
          "description": "Name of the virtual input device (used if a virtual device is installed).\nDefault: \"Stache Virtual Input\"",
          "type": "string",
          "default": "Stache Virtual Input"
        },
        "priority": {
          "description": "Priority list for input device selection.\nDevices are checked in order; the first available device is selected.\n`AirPlay` devices are always given highest priority automatically.",
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/AudioDevicePriority"
          }
        }
      }
    },
    "ProxyAudioOutputConfig": {
      "description": "Output device configuration for proxy audio.\n\nDefines the virtual output device name, buffer size, and priority list.",
      "type": "object",
      "properties": {
        "bufferSize": {
          "description": "Audio buffer size in frames. Smaller values reduce latency but may cause artifacts.\nRecommended values: 128 (low latency), 256 (balanced), 512 (stable).\nDefault: 256",
          "type": "integer",
          "format": "uint32",
          "default": 256,
          "minimum": 0
        },
        "name": {
          "description": "Name of the virtual output device (used if a virtual device is installed).\nDefault: \"Stache Virtual Output\"",
          "type": "string",
          "default": "Stache Virtual Output"
        },
        "priority": {
          "description": "Priority list for output device selection.\nDevices are checked in order; the first available device is selected.\n`AirPlay` devices are always given highest priority automatically.",
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/AudioDevicePriority"
          }
        }
      }
    },
    "ScreenGapsConfig": {
      "description": "Per-screen gaps configuration.",
      "type": "object",
      "properties": {
        "inner": {
          "description": "Inner gaps between windows.",
          "$ref": "#/$defs/GapValue",
          "default": 0
        },
        "outer": {
          "description": "Outer gaps from screen edges.",
          "$ref": "#/$defs/GapValue",
          "default": 0
        },
        "screen": {
          "description": "Screen identifier: \"main\", \"secondary\", or screen name.",
          "type": "string"
        }
      },
      "required": ["screen"]
    },
    "ShortcutCommands": {
      "description": "Commands to execute for a keyboard shortcut.\n\nCan be either a single command string or an array of commands\nthat will be executed sequentially.",
      "anyOf": [
        {
          "description": "A single command to execute.",
          "type": "string"
        },
        {
          "description": "Multiple commands to execute sequentially (never in parallel).",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      ]
    },
    "TargetMusicApp": {
      "description": "Target music application for noTunes replacement.\n\nWhen Apple Music or iTunes is blocked, this app will be launched instead.",
      "oneOf": [
        {
          "description": "Tidal music streaming service.",
          "type": "string",
          "const": "tidal"
        },
        {
          "description": "Spotify music streaming service.",
          "type": "string",
          "const": "spotify"
        },
        {
          "description": "Do not launch any replacement app.",
          "type": "string",
          "const": "none"
        }
      ]
    },
    "TilingConfig": {
      "description": "Tiling window manager configuration.\n\nProvides virtual workspace management with multiple layout modes,\nconfigurable gaps, and window matching rules.",
      "type": "object",
      "properties": {
        "animations": {
          "description": "Animation settings for window transitions.",
          "$ref": "#/$defs/AnimationConfig",
          "default": {
            "duration": 200,
            "easing": "ease-out",
            "enabled": false
          }
        },
        "borders": {
          "description": "Window border configuration.\nBorders provide visual feedback for focus state and layout mode.",
          "$ref": "#/$defs/BordersConfig",
          "default": {
            "animation": {
              "durationMs": 200,
              "easing": "ease-out"
            },
            "enabled": false,
            "floating": {
              "color": "#94e2d5",
              "width": 4
            },
            "focused": {
              "color": "#b4befe",
              "width": 4
            },
            "ignore": [],
            "monocle": {
              "color": "#cba6f7",
              "width": 4
            },
            "unfocused": {
              "color": "#6c7086",
              "width": 4
            }
          }
        },
        "enabled": {
          "description": "Whether the tiling window manager is enabled.\nDefault: false",
          "type": "boolean",
          "default": false
        },
        "floating": {
          "description": "Floating window presets and settings.",
          "$ref": "#/$defs/FloatingConfig",
          "default": {
            "defaultPosition": "center",
            "presets": []
          }
        },
        "gaps": {
          "description": "Gap configuration (global or per-screen).",
          "$ref": "#/$defs/GapsConfigValue",
          "default": {
            "inner": 0,
            "outer": 0
          }
        },
        "ignore": {
          "description": "Applications/windows to ignore (never managed by tiling).",
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/WindowRule"
          }
        },
        "master": {
          "description": "Master layout settings.",
          "$ref": "#/$defs/MasterConfig",
          "default": {
            "position": "auto",
            "ratio": 60
          }
        },
        "workspaces": {
          "description": "Workspace definitions.\nIf empty and tiling is enabled, creates one default workspace per screen.",
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/WorkspaceConfig"
          }
        }
      }
    },
    "WallpaperConfig": {
      "description": "Wallpaper configuration for dynamic wallpaper management.",
      "type": "object",
      "properties": {
        "blur": {
          "description": "Blur level in pixels for Gaussian blur effect.",
          "type": "integer",
          "format": "uint32",
          "default": 0,
          "minimum": 0
        },
        "interval": {
          "description": "Time in seconds between wallpaper changes.\nIf set to 0, the wallpaper will not change after the initial setting.",
          "type": "integer",
          "format": "uint64",
          "default": 0,
          "minimum": 0
        },
        "list": {
          "description": "List of wallpaper filenames to use.\nIf `path` is specified, this list is ignored.",
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          }
        },
        "mode": {
          "description": "Wallpaper selection mode: \"random\" or \"sequential\".",
          "$ref": "#/$defs/WallpaperMode",
          "default": "random"
        },
        "path": {
          "description": "Directory containing wallpaper images.\nIf specified, all image files in this directory will be used,\noverriding the `list` field.",
          "type": "string",
          "default": ""
        },
        "radius": {
          "description": "Radius in pixels for rounded corners.",
          "type": "integer",
          "format": "uint32",
          "default": 0,
          "minimum": 0
        }
      }
    },
    "WallpaperMode": {
      "description": "Wallpaper cycling mode.",
      "oneOf": [
        {
          "description": "Select a random wallpaper each time.",
          "type": "string",
          "const": "random"
        },
        {
          "description": "Cycle through wallpapers in order.",
          "type": "string",
          "const": "sequential"
        }
      ]
    },
    "WeatherConfig": {
      "description": "Weather configuration for the status bar.",
      "type": "object",
      "properties": {
        "apiKeys": {
          "description": "Path to an environment file containing API keys.\n\nThe file should contain key-value pairs in the format `KEY=value`.\nSupported keys:\n- `VISUAL_CROSSING_API_KEY` - API key for Visual Crossing Weather API\n\nThe path can be:\n- Relative to the config file directory (e.g., `.env`, `secrets/.env`)\n- Absolute path (e.g., `/Users/username/.secrets/.env`)\n- Use `~` for home directory (e.g., `~/.config/stache/.env`)\n\nExample `.env` file:\n```env\nVISUAL_CROSSING_API_KEY=your_api_key_here\n```",
          "type": "string",
          "default": ""
        },
        "defaultLocation": {
          "description": "Default location for weather data when geolocation fails.\nCan be a city name, address, or coordinates.",
          "type": "string",
          "default": ""
        }
      }
    },
    "WindowRule": {
      "description": "Window matching rule for workspace assignment.\n\nAll specified properties must match (AND logic).\nAt least one property must be specified.",
      "type": "object",
      "properties": {
        "app-id": {
          "description": "Match by bundle identifier (e.g., \"com.apple.finder\").",
          "type": ["string", "null"]
        },
        "app-name": {
          "description": "Match by application name.",
          "type": ["string", "null"]
        },
        "title": {
          "description": "Match by window title (substring match).",
          "type": ["string", "null"]
        }
      }
    },
    "WorkspaceConfig": {
      "description": "Workspace configuration.",
      "type": "object",
      "properties": {
        "layout": {
          "description": "Layout mode for this workspace.\nDefault: \"floating\"",
          "$ref": "#/$defs/LayoutType",
          "default": "floating"
        },
        "name": {
          "description": "Unique name for the workspace.",
          "type": "string"
        },
        "preset-on-open": {
          "description": "Floating preset to apply when windows open in this workspace.",
          "type": ["string", "null"]
        },
        "rules": {
          "description": "Rules for automatically assigning windows to this workspace.",
          "type": "array",
          "default": [],
          "items": {
            "$ref": "#/$defs/WindowRule"
          }
        },
        "screen": {
          "description": "Screen assignment: \"main\", \"secondary\", or screen name.\nDefault: \"main\"",
          "type": "string",
          "default": "main"
        }
      },
      "required": ["name"]
    }
  }
}
